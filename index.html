<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Code Contas</title>
    <style type="text/css">
      .destroy {
        color: red;
      }
      .empty {
        color: grey;
      }
      .pending {
        color: red;
      }
      .done {
        color: green;
      }
    </style>
  </head>
  <body id="app">
    <h1>{{ title }}</h1>
    <nav>
      <ul>
        <li v-for="menu in menus">
          <a href="#" @click.prevent="showView(menu.id)">{{ menu.text }}</a>
        </li>
      </ul>
    </nav>

    <div v-if="activedView == 0">
      <p :class="{ 'empty': status.count === 0, 'pending': status.pending > 0, 'done': status.count > 0 && status.pending === 0 }">
        {{ status | statusLabel }}
      </p>

      <table border="1" cellpadding="10">
        <thead>
          <tr>
            <th>#</th>
            <th>Vencimento</th>
            <th>Nome</th>
            <th>Valor</th>
            <th>Situação</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(index, bill) in bills">
            <td>{{ index + 1 }}</td>
            <td>{{ bill.date_due }}</td>
            <td>{{ bill.name }}</td>
            <td>{{ bill.value | currency 'R$ ' }}</td>
            <td :class="{'done': bill.done, 'pending': !bill.done}">
              <label>
                <input type="checkbox" v-model="bill.done"/>
                {{ bill.done | doneLabel }}
              <label>
            </td>
            <td>
              <a href="#" @click.prevent="loadBill(bill)">Editar</a> |
              <a href="#" @click.prevent="destroyBill(bill)" class="destroy">Excluir</a>
            </td>
          </tr>
        </thead>
      </table>
    </div>

    <div v-if="activedView == 1">
      <form name="form" @submit.prevent="submit">
        <label>Vencimento:<label>
        <input type="text" v-model="bill.date_due"/>
        <br/><br/>
        <label>Nome:<label>
        <select v-model="bill.name">
          <option v-for="name in names" :value="name">{{ name }}</option>
        </select>
        <br/><br/>
        <label>Valor:<label>
        <input type="text" v-model="bill.value"/>

        <br/><br/>
        <label>Situação:<label>
        <span :class="{'done': bill.done, 'pending': !bill.done}">
          {{ bill.done | doneLabel }}
        </span>
        <br/><br/>
        <input type="submit" value="Enviar"/>
      </form>
    </div>

    <script type="text/javascript" src="node_modules/vue/dist/vue.min.js"></script>
    <script type="text/javascript" src="app.js"></script>
  </body>
</html>
